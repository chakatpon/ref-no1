<!doctype html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
    <!--build:css cs/style.min.css -->
    <link rel="stylesheet" href="cs/style.css">
    <!--/build-->
  </head>

  <body>
    <!-- Side Navbar -->
    <nav class="side-navbar">
      <div class="side-navbar-wrapper h-100">
        <!-- Sidebar Navigation Menus-->
        <div class="main-menu">
          <ul id="side-main-menu" class="side-menu list-unstyled">
            <div>
              <li>
                <a class="nav-link" href="dashboard.html">
                  <span>
                    <div class="logo-wrap">
                      <img src="./img/logo/logo_nav.png" />
                    </div>
                  </span> Dashboard </a>
              </li>
              <li><a class="nav-link active" href="po.html"><span><i class="icon icon-PO"></i></span>Purchase Order</a></li>
              <li><a class="nav-link" href="gr.html"><span><i class="icon icon-GR"></i></span>Goods Receive</a></li>
              <li><a class="nav-link" href="invoice.html"><span><i class="icon icon-INV"></i></span>Invoice</a></li>
              <li><a class="nav-link" href="cn.html"><span><i class="icon icon-CN"></i></span>Credit Note</a></li>
              <li><a class="nav-link" href="dn.html"><span><i class="icon icon-DN"></i></span>Debit Note</a></li>
              <li><a class="nav-link" href="3wm.html"><span><i class="icon icon-3wm"></i></span>3 Way Matching</a></li>
              <li><a class="nav-link" href="2wm.html"><span><i class="icon icon-2wm"></i></span>2 Way Matching</a></li>
              <li><a class="nav-link" href="doa.html"><span><i class="icon icon-DOA"></i></span>Waiting DOA Approval</a></li>
              <!-- <li><a class="nav-link" href="invoice.html"><span><i class="icon icon-Mon"></i></span>LIV Posting Result</a></li>
                    <li><a class="nav-link" href="invoice.html"><span><i class="icon icon-PPR"></i></span>Payment Posting Result</a></li> -->
              <li><a class="nav-link" href="log.html"><span><i class="icon icon-LOG"></i></span>Log</a></li>
              <!-- <li>
                        <a class="nav-link" href="#exampledropdownDropdown" aria-expanded="false" data-toggle="collapse"><span><i class="icon icon-interface-windows"></i></span>Example dropdown </a>
                        <ul id="exampledropdownDropdown" class="collapse list-unstyled ">
                            <li><a class="nav-link" href="#">Page</a></li>
                            <li><a class="nav-link" href="#">Page</a></li>
                            <li><a class="nav-link" href="#">Page</a></li>
                        </ul>
                    </li> -->
            </div>
            <li class="bottom"><a class="nav-link" href="login.html"><span><i class="icon icon-Logout"></i></span>Logout</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="sidenav-header-toggle">
      <div class="row justify-content-start m-0">
        <div class="col-2 p-0">
          <div id="toggle-btn-open" class="toggle-btn-open">
            <div class="hamburger">
              <div></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="page active">
      <!-- Start #cn_create - Start -->
      <div id="cn_create" class="row step-4">
        <div id="step-indicator" class="col-12">
          <ul class="d-flex justify-content-center">
            <li class="flex-fill finished">
              <div class="indicator step-1 rounded-circle text-center finished">
                <span class="number">1</span>
                <i class="fa fa-check"></i>
              </div>
              <p class="text-center">Select Invoice</p>
            </li>
            <li class="flex-fill finished">
              <div class="indicator step-2 rounded-circle text-center">
                <span class="number">2</span>
                <i class="fa fa-check"></i>
              </div>
              <p class="text-center">Credit Note Items</p>
            </li>
            <li class="flex-fill finished">
              <div class="indicator step-3 rounded-circle text-center">
                <span class="number">3</span>
                <i class="fa fa-check"></i>
              </div>
              <p class="text-center">Insert Credit Note Details</p>
            </li>
            <li class="flex-fill active">
              <div class="indicator step-4 rounded-circle text-center">
                <span class="number">4</span>
                <i class="fa fa-check"></i>
              </div>
              <p class="text-center">Summary</p>
            </li>
          </ul>
        </div>
        <div class="page__header col-12">
          <h2>Credit Note No. : CNMEMO-3</h2>
        </div>
        <form id="cnCreateForm" name="cnCreateForm" method="post" enctype="multipart/form-data" action="" class="form col-12">
          
            <section id="invoice_detail_page" class="box box--width-header">

                <!-- box--no-shadow -->
                <div class="box__header">
                    <div class="row justify-content-between align-items-center mb-2">
                        <div class="col-4"> Entry Date : <strong>07/03/2018</strong>
                    </div>
                </div><!-- box__header -->
                <div class="box__inner">

                    <!-- Box "#vendor" - Start -->
                    <div class="row box">
                        <a href="#vendorInfo" data-toggle="collapse" role="button" aria-expanded="true" area-controls="vendorInfo" class="d-flex w-100 btnToggle">
                            <div class="col-6">
                                <h3 class="border-bottom gray-1">Vendor</h3>
                            </div>
                            <div class="col-6">
                                <h3 class="border-bottom gray-1">Company</h3>
                                <i class="fa fa-chevron-up gray-1" aria-hidden="true"></i>
                                <i class="fa fa-chevron-down gray-1" aria-hidden="true"></i>
                            </div>
                        </a>

                        <!-- Vendor Lists - Start -->
                        <div id="vendorInfo" class="collapse multi-collapse w-100 show">
                            <div class="card card-body noborder">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="row">
                                            <p class="col-4 text-right">Code :</p>
                                            <p class="col-6">0001001150</p>
                                        </div>
                                        <div class="row">
                                            <p class="col-4 text-right">Name :</p>
                                            <p class="col-6">BKK BAYS WOOD CO., LTD</p>
                                        </div>
                                        <div class="row">
                                            <p class="col-4 text-right">Tax ID :</p>
                                            <p class="col-6">7729602003486</p>
                                        </div>
                                        <div class="row">
                                            <p class="col-4 text-right">Branch :</p>
                                            <p class="col-6">112 (BKK)</p>
                                        </div>
                                        <div class="row">
                                            <p class="col-4 text-right">Address :</p>
                                            <p class="col-6">12/43 ถ.นราธิวาสราชนครดินทร์​แขวงสีลม เขตบางรัก กรุงเทพฯ 10500</p>
                                        </div>
                                        <div class="row">
                                            <p class="col-4 text-right">Tel. :</p>
                                            <p class="col-6">02-224-0027</p>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="row">
                                            <p class="col-4 text-right">Code :</p>
                                            <p class="col-6">0100</p>
                                        </div>
                                        <div class="row">
                                            <p class="col-4 text-right">Name :</p>
                                            <p class="col-6">SCG Chemical</p>
                                        </div>
                                        <div class="row">
                                            <p class="col-4 text-right">Tax ID :</p>
                                            <p class="col-6">263707019058</p>
                                        </div>
                                        <div class="row">
                                            <p class="col-4 text-right">Branch :</p>
                                            <p class="col-6">BU1 (SCG)</p>
                                        </div>
                                        <div class="row">
                                            <p class="col-4 text-right">Address :</p>
                                            <p class="col-6">1 ถ.ปูนซีเมนต์ไทย แขวงบางซื่อ เขตบางซื่อ กรุงเทพฯ 10800</p>
                                        </div>
                                        <div class="row">
                                            <p class="col-4 text-right">Tel. :</p>
                                            <p class="col-6">02-123-4567</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Vendor Lists - End -->
                    </div>
                    <!-- Box #vendor" - End -->

                    <!-- Box "#paymentInfo" - Start -->
                    <div class="row box">
                        <a href="#paymentInfo" data-toggle="collapse" role="button" aria-expanded="true" area-controls="paymentInfo" class="d-flex w-100 btnToggle">
                            <div class="col-12">
                                <h3 class="border-bottom gray-1">Credit Note Information</h3>
                                <i class="fa fa-chevron-up gray-1" aria-hidden="true"></i>
                                <i class="fa fa-chevron-down gray-1" aria-hidden="true"></i>
                            </div>
                        </a>

                        <!-- Payment Information Lists - Start -->
                        <div id="paymentInfo" class="collapse multi-collapse w-100 show">
                            <div class="card card-body noborder">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="d-flex flex-wrap">
                                            <p class="col-4 text-right">Credit Note No. :</p>
                                            <p class="col-6">CNMEMO-1</p>
                                        </div>
                                        <div class="d-flex flex-wrap">
                                            <p class="col-4 text-right">Invoice Ref No. :</p>
                                            <p class="col-6"><a href="javascript:void(0);" class="purple"><strong>DIREUAT-001</strong></a></p>
                                        </div>
                                        <div class="d-flex flex-wrap">
                                            <p class="col-4 text-right">Settle to Invoice No. : </p>
                                            <ul id="settleInvoiceLists" class="list-inline col-6">
                                                <li class="list-inline-item toggle-items"><a href="javascript:void(0);"><strong class="purple">NEGRESIT-001</strong>, </a></li>
                                                <li class="list-inline-item toggle-items"><a href="javascript:void(0);"><strong class="purple">NEGRESIT-003</strong>, </a></li>
                                                <li class="list-inline-item toggle-items"><a href="javascript:void(0);"><strong class="purple">NEGRESIT-004</strong>, </a></li>
                                                <li class="list-inline-item toggle-items list-hidden"><a href="javascript:void(0);"><strong class="purple">NEGRESIT-005</strong>, </a></li>
                                                <li class="list-inline-item toggle-items list-hidden"><a href="javascript:void(0);"><strong class="purple">NEGRESIT-006</strong>, </a></li>
                                                <li class="list-inline-item toggle-items list-hidden"><a href="javascript:void(0);"><strong class="purple">NEGRESIT-007</strong>, </a></li>
                                                <li class="list-inline-item toggle-items list-hidden"><a href="javascript:void(0);"><strong class="purple">NEGRESIT-008</strong>, </a></li>
                                                <li class="list-inline-item toggle-items"><a href="javascript:void(0);" class="btnExpandLists" data-target="#settleInvoiceLists"><strong class="purple">SEE ALL</strong></a></li>
                                            </ul>
                                        </div>
                                        <div class="d-flex flex-wrap">
                                            <p class="col-4 text-right">Type of CN : </p>
                                            <p class="col-6">Quantity Adjustment</p>
                                        </div>
                                        <div class="d-flex flex-wrap">
                                            <p class="col-4 text-right">Attached Credit : </p>
                                            <ul class="col-6 list-style-none">
                                                <li>CN.PNG <a href="javascript:void(0);"><strong class="purple underline">Download</strong></a></li>
                                            </ul>
                                        </div>
                                        <div class="d-flex flex-wrap">
                                            <p class="col-4 text-right">Other Documents : </p>
                                            <ul class="col-6 list-style-none">
                                                <li>-</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="d-flex flex-wrap">
                                            <p class="col-4 text-right">Credit Note Date : </p>
                                            <p class="col-6">02/08/2018</p>
                                        </div>
                                        <div class="d-flex flex-wrap">
                                            <p class="col-4 text-right">Credit Note Amount [inc. TAX] : </p>
                                            <p class="col-6">698,175.00 THB</p>
                                        </div>
                                        <div class="d-flex flex-wrap">
                                            <p class="col-4 text-right">Credit Note Remaining Amount [inc. TAX] : </p>
                                            <p class="col-6">698,175.00 THB</p>
                                        </div>
                                        <div class="d-flex flex-wrap">
                                            <p class="col-4 text-right">Reason : </p>
                                            <p class="col-6">Lorem ipsum dolor sit amet, consetetursadipsc ing elitr, sed diam nonumy eirmod temporinvid unt ut Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmodtem…</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Payment Information Lists - End -->
                    </div>
                    <!-- Box #paymentInfo" - End -->

                </div><!-- box__inner -->
            </section>

            <section id="invoice_detail_page_2" class="box box--width-header">
            <!-- box--no-shadow -->
                <div class="box__header">
                    <div class="row justify-content-between align-items-center mb-2">
                        <div class="col">
                            <h3>Items Information</h3>
                        </div>
                    </div>
                </div><!-- box__header -->
                <div class="box__inner">
                    <!-- Box "#tax3" - Start -->
                    <div class="row box">
                        <a href="#tax3" data-toggle="collapse" role="button" aria-expanded="false" area-controls="tax3" class="d-flex w-100 btnToggle">
                            <div class="col-12">
                                <h3 class="gray-1">TAX 3%</h3>
                                <i class="fa fa-chevron-up gray-1" aria-hidden="true"></i>
                                <i class="fa fa-chevron-down gray-1" aria-hidden="true"></i>
                            </div>
                        </a>
                        <!-- tax3 Lists - Start -->
                        <div id="tax3" class="collapse multi-collapse w-100">
                            <div class="card card-body noborder">
                                <div class="row overflow-x-scroll">
                                    <div class="col-12">
                                        <div class="table_wrapper">
                                            <table class="table table-3 dataTable">
                                                <thead>
                                                    <tr>
                                                        <th>CN<br />Item No.</th>
                                                        <th>Invoice<br />Item No.</th>
                                                        <th>Material Description</th>
                                                        <th>PO No.</th>
                                                        <th>Invoice Qty</th>
                                                        <th>Invoice<br />Amount</th>
                                                        <th>CN QTY</th>
                                                        <th>Unit</th>
                                                        <th>Unit Price</th>
                                                        <th>CN Amount</th>
                                                        <th>Currency</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td class="text-uppercase">0001</td>
                                                        <td class="text-uppercase">004</td>
                                                        <td class="text-uppercase">Flexible bag for resin with...</td>
                                                        <td class="text-uppercase">500210911</td>
                                                        <td class="text-uppercase">320.000</td>
                                                        <td class="text-uppercase">320.000</td>
                                                        <td class="text-uppercase">20.000</td>
                                                        <td class="text-uppercase">PEC</td>
                                                        <td class="text-uppercase">30.00</td>
                                                        <td class="text-uppercase">600.00</td>
                                                        <td class="text-uppercase">THB</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="text-uppercase">0002</td>
                                                        <td class="text-uppercase">005</td>
                                                        <td class="text-uppercase">Big bag,100x100x125cm,W/Logo</td>
                                                        <td class="text-uppercase">500210912</td>
                                                        <td class="text-uppercase">500.000</td>
                                                        <td class="text-uppercase">500.000</td>
                                                        <td class="text-uppercase">200.000</td>
                                                        <td class="text-uppercase">BAG</td>
                                                        <td class="text-uppercase">5.00</td>
                                                        <td class="text-uppercase">1,000.00</td>
                                                        <td class="text-uppercase">THB</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- tax3 Lists - End -->
                    </div>
                    <!-- Box #tax3" - End -->
                </div><!-- box__inner -->
            </section>

            <!-- Button - Start -->
            <div class="row">
                <div class="col-12 text-center">
                    <button type="button" name="btnCancel" id="btnCancel" class="btn btn-wide btn--transparent">Cancel</button>
                    <button type="button" name="btnBack" id="btnBack" class="btn btn-wide btn--transparent"><i class="fa fa-chevron-left"></i> Back</button>
                    <button type="button" name="btnNext" id="btnNext" class="btn btn-wide">Submit</button>
                </div>
            </div>
            <div class="row">&nbsp;</div>
            <!-- Button - End -->

        </form>
        
        <!-- Modal #confirmCancel - Start -->
        <div id="confirmCancel" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="addPO" aria-hidden="true">
          <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h3 class="text-center w-100">Cancel</h3>
              </div>
              <div class="modal-body">
                <p class="text-center">Do you want to cancel this invoice?</p>
                <p>&nbsp;</p>
                <p class="text-center">
                  <button type="button" name="btnCloseModal" id="btnCloseModal" class="btn btn-wide" data-dismiss="modal" aria-hidden="true">No</button>
                  <button type="button" name="btnConfirmCancel" id="btnConfirmCancel" class="btn btn--transparent btn-wide" onclick="top.location.href='cn.html';">Yes</button>
                </p>
              </div>
            </div>
          </div>
        </div>
        <!-- Modal #confirmCancel - End -->

        <!-- Small Screen Cover - Start -->
        <div id="smallScreenCover">
          <p class="text-center"><img src="img/icon_expanded.png" alt="" /></p>
        </div>
        <!-- Small Screen Cover - End -->
      </div>
      <p><a href="javascript:void(0);" data-toggle="modal" data-target="#alertBox">Click ME!</a></p>
      <!-- Start #cn_create - End -->

      <!-- Modal - Start -->
      <div id="alertBox" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="alertBox" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header justify-content-center">
            <h3 id="myModalLabel">Error</h3>
            </div>
            <div class="modal-body d-flex justify-content-center">
                <p>The system cannot get attachment configuration because {error message}</p>
            </div>
            <div class="modal-footer justify-content-center">
                <button type="button" name="btnCloseModal" id="btnCloseModal" class="btn btn-wide" data-dismiss="modal" aria-hidden="true">OK</button>
            </div>
        </div>
        </div>
    </div>
    <!-- Modal - End -->
    </div>
    <script src="js/jquery.min.js"></script>
    <script src="js/modernizr.js"></script>
    <script src="js/app.js"></script>
    <script src="js/scripts.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {

            /* Hiding Navigation - Start */
            $('.page').css('width', '100%');
            $('nav.side-navbar, .sidenav-header-toggle').hide();
            /* Hiding Navigation - End */

            $('.dataTable').DataTable({
                //dom: '<<"row justify-content-between align-items-center mb-3"<"col d-flex align-items-center"lp><"col d-flex justify-content-end"<"btn-wrap upload"><"btn-wrap create"><"btn-wrap col-display"><"btn-wrap export">>><t>>',
                "language": {
                    "lengthMenu": "Display _MENU_ Per Page"
                },
                columnDefs: [{
                    "targets": [0],
                    'width' : '60px'
                }, {
                    'targets': [1],
                    'width': '80px'
                }, {
                    'targets': [2],
                    'width': '300px',
                }, {
                    'targets': [3],
                    'width': '100px'
                }, {
                    'targets': [4],
                    'width': '80px'
                }, {
                    'targets': [5],
                    'width': '80px'
                }, {
                    'targets': [6],
                    'width': '80px'
                }, {
                    'targets': [7,8,9,10],
                    'width': '80px'
                }, {
                    'targets': '_all',
                    'orderable': false,
                    'sortable': false,
                }],
                order: [
                    [1, "asc"]
                ],
                fixedHeader: true,
                stateSave: false,
                paging: false,
                bLengthChange: true,
                searching: false,
                info: false,
                ordering: false
            });

            /* input#selectAll handler - Start */
            $('body').on('change', 'input#selectAll', function(){
                $('input[name="selectedIds[]"]').prop( 'checked', $(this).prop('checked') );
                if( $(this).prop('checked') === true ){
                    $('tbody').find('tr').addClass('selected');
                    $('tbody').find('input[name="cnQty[]"]').prop('disabled', false );
                    countSelectedTotal();
                    checkNextStep();
                }else{
                    $('tbody').find('tr').removeClass('selected');
                    $('tbody').find('input[name="cnQty[]"]').prop('disabled', true );
                    countSelectedTotal();
                    checkNextStep();
                }
            });
            /* input#selectAll handler - End */

            /* input[name="selectedIds[]"] handler - Start */
            $('body').on('change', 'input[name="selectedIds[]"]', function(){
                $(this).each(function(){
                    if( $(this).prop('checked') === true ){
                        $(this).parents('tr').addClass('selected');
                        $(this).parents('tr').find('input[name="cnQty[]"]').prop('disabled', false );
                        checkNextStep();
                    }else{
                        $(this).parents('tr').removeClass('selected');
                        $(this).parents('tr').find('input[name="cnQty[]"]').prop('disabled', true );
                        checkNextStep();
                    }
                });
            });
            /* input[name="selectedIds[]"] handler - End */

            /* input[name="cnQty[]"] handler - Start */
            $('body').on('keyup', 'input[name="cnQty[]"]', function(){
                var limitVal = $(this).parents('tr').find('input[name="invoiceQty[]"]').val();
                if( $(this).val() > limitVal ){
                    $(this).addClass('danger');
                }else{
                    $(this).removeClass('danger');
                }

                /* Calculate Total - Start */
                var unitPrice = $(this).parents('tr').find('input[name="unitPrice[]"]').val();
                var total = parseInt( $(this).val() ) * parseInt( unitPrice );
                $(this).parents('tr').find('.total').html( number_format( total, 2, '.', ',' ) );
                /* Calculate Total - End */

                checkNextStep();
            });
            /* input[name="cnQty[]"] handler - End */

            /* btnCancel Handler - Start */
            $('body').on('click', '#btnCancel', function(){
                $('#confirmCancel').modal();
            });
            /* btnCancel Handler - End */

            /* btnBack Handler - Start */
            $('body').on('click', '#btnBack', function(){
                top.location.href='cn_create.html';
            });
            /* btnBack Handler - End */

            /* btnNextStep Handler - Start */
            $('body').on('click', '#btnNext', function(){
                top.location.href='cn_create_4.html';
            });
            /* btnNextStep Handler - End */

            /* Datepicker - Start */
            var d = new Date();
            var todayDate = '' + d.getDate() + '/' + (d.getMonth() + 1) + '/' + (d.getFullYear() + 3);
            $('.datepicker').daterangepicker({
                singleDatePicker: true,
                showDropdowns: true,
                minDate: '01/01/2015',
                maxDate: todayDate,
                locale: {
                    format: 'DD/MM/YYYY'
                }
            });
            /* Datepicker - End */

            /* Trigger #btnNext - Start */
            $('body').on('keyup', 'input#cn_no, input#cn_date, textarea#cn_reason', function() {
                if ($('input#cn_no').val() != '' && $('input#cn_date').val() != '' && $('textarea#cn_reason')) {
                    $('button#btnNext').prop('disabled', false);
                } else {
                    $('button#btnNext').prop('disabled', true);
                }
            });
            /* Trigger #btnNext - End */

            /* button .btnExpandLists handler - Start */
            $('body').on('click', '.btnExpandLists', function(){
                var target = $(this).attr('data-target');
                if( $(target).hasClass('active-hidden-list') === false ){
                    $(target).addClass('active-hidden-list');
                    $(target).find('.list-hidden').removeClass('list-hidden').addClass('list-show');
                    $(this).find('strong').html('HIDE');
                }else{
                    $(target).removeClass('active-hidden-list');
                    $(target).find('.list-show').removeClass('list-show').addClass('list-hidden');
                    $(this).find('strong').html('SEE ALL');
                }
            });
            /* button .btnExpandLists handler - End */
        });

    </script>
  </body>

</html>